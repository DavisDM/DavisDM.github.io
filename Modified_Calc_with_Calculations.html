<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chemical Equation Solver</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f7f7f7;
        }
        .container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            max-width: 100%;
            margin: 0 auto;
        }
        .calculator {
            background-color: #fff;
            padding: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 260px;
        }
        h1 {
            text-align: center;
            margin-bottom: 15px;
            font-size: 22px;
            color: #333;
        }
        h2 {
            margin-top: 0;
            font-size: 16px;
            color: #444;
            border-bottom: 2px solid #eee;
            padding-bottom: 5px;
            margin-bottom: 10px;
        }
        h3 {
            font-size: 14px;
            color: #555;
            margin-bottom: 5px;
        }
        label {
            display: block;
            font-size: 12px;
            margin-bottom: 3px;
            color: #666;
        }
        input[type="number"] {
            width: calc(100% - 10px);
            padding: 5px;
            margin-bottom: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 12px;
        }
        input[type="checkbox"] {
            margin-right: 5px;
        }
        .save-checkbox {
            display: inline-block;
            margin-top: 5px;
        }
        button {
            width: 100%;
            padding: 8px;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 4px;
            font-size: 14px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-top: 5px;
        }
        button:hover {
            background-color: #0056b3;
        }
        p {
            font-size: 12px;
            color: #333;
            font-weight: bold;
            margin-top: 5px;
            text-align: center;
        }
        #debugInfo {
            margin-top: 20px;
            text-align: center;
        }
        #debugInfo button {
            margin-right: 10px;
            margin-top: 10px;
            padding: 8px 15px;
            font-size: 14px;
            background-color: #6c757d;
            border: none;
            color: #fff;
            border-radius: 4px;
            cursor: pointer;
        }
        #debugInfo button:hover {
            background-color: #5a6268;
        }
        #localStorageContent {
            margin-top: 20px;
            font-size: 12px;
            color: #333;
            background-color: #f1f1f1;
            padding: 10px;
            border-radius: 4px;
        }
    </style>
</head>

<body>
    <h1>Chemical Equation Solver</h1>
    <div class="container">
        <!-- Acid Value Calculator -->
        <div class="calculator">
            <h2>Acid Value</h2>
            <form id="acidValueForm">
                <label for="acidVolume">Volume (mL):</label>
                <input type="number" id="acidVolume" step="any" required>
                
                <label for="acidNormality">Normality:</label>
                <input type="number" id="acidNormality" step="any" required>
                <input type="checkbox" id="saveAcidNormality" class="save-checkbox">
                <label for="saveAcidNormality">Save</label>
                
                <label for="acidMolecularWeight">Molecular Weight:</label>
                <input type="number" id="acidMolecularWeight" step="any" value="56.1" required>
                <input type="checkbox" id="saveAcidMolecularWeight" class="save-checkbox">
                <label for="saveAcidMolecularWeight">Save</label>
                
                <label for="acidWeight">Weight (g):</label>
                <input type="number" id="acidWeight" step="any" required>
                
                <button type="submit">Calculate</button>
            </form>
            <p id="acidResult"></p>
        </div>

        <!-- Base Value Calculator -->
        <div class="calculator">
            <h2>Base Value</h2>
            <form id="baseValueForm">
                <label for="baseVolume">Volume (mL):</label>
                <input type="number" id="baseVolume" step="any" required>
                
                <label for="baseNormality">Normality:</label>
                <input type="number" id="baseNormality" step="any" required>
                <input type="checkbox" id="saveBaseNormality" class="save-checkbox">
                <label for="saveBaseNormality">Save</label>
                
                <label for="baseMolecularWeight">Molecular Weight:</label>
                <input type="number" id="baseMolecularWeight" step="any" value="56.1" required>
                <input type="checkbox" id="saveBaseMolecularWeight" class="save-checkbox">
                <label for="saveBaseMolecularWeight">Save</label>
                
                <label for="baseWeight">Weight (g):</label>
                <input type="number" id="baseWeight" step="any" required>
                
                <button type="submit">Calculate</button>
            </form>
            <p id="baseResult"></p>
        </div>

        <!-- Peroxide Value Calculator -->
        <div class="calculator">
            <h2>Peroxide Value</h2>
            <form id="peroxideValueForm">
                <label for="peroxideVolume">Volume (mL):</label>
                <input type="number" id="peroxideVolume" step="any" required>
                
                <label for="peroxideNormality">Normality:</label>
                <input type="number" id="peroxideNormality" step="any" required>
                <input type="checkbox" id="savePeroxideNormality" class="save-checkbox">
                <label for="savePeroxideNormality">Save</label>
                
                <label for="peroxideWeight">Weight (g):</label>
                <input type="number" id="peroxideWeight" step="any" required>
                
                <button type="submit">Calculate</button>
            </form>
            <p id="peroxideResult"></p>
        </div>

        <!-- Actives Calculator -->
        <div class="calculator">
            <h2>Actives</h2>
            <form id="activesForm">
                <label for="activesVolume">Volume (mL):</label>
                <input type="number" id="activesVolume" step="any" required>
                
                <label for="activesNormality">Normality:</label>
                <input type="number" id="activesNormality" step="any" required>
                <input type="checkbox" id="saveActivesNormality" class="save-checkbox">
                <label for="saveActivesNormality">Save</label>
                
                <label for="activesMolecularWeight">Molecular Weight:</label>
                <input type="number" id="activesMolecularWeight" step="any" value="56.1" required>
                <input type="checkbox" id="saveActivesMolecularWeight" class="save-checkbox">
                <label for="saveActivesMolecularWeight">Save</label>
                
                <label for="activesWeight">Weight (g):</label>
                <input type="number" id="activesWeight" step="any" required>
                
                <button type="submit">Calculate</button>
            </form>
            <p id="activesResult"></p>
        </div>

        <!-- Saponification Value Calculator -->
        <div class="calculator">
            <h2>Saponification</h2>
            <form id="saponificationValueForm">
                <label for="saponificationBlank">Blank Value:</label>
<input type="number" id="saponificationBlank" step="any" required>
<input type="checkbox" id="saveSaponificationBlank" class="save-checkbox">
<label for="saveSaponificationBlank">Save</label>

<label for="saponificationVolume">Volume (mL):</label>
                <input type="number" id="saponificationVolume" step="any" required>
                
                <label for="saponificationNormality">Normality:</label>
                <input type="number" id="saponificationNormality" step="any" required>
                <input type="checkbox" id="saveSaponificationNormality" class="save-checkbox">
                <label for="saveSaponificationNormality">Save</label>
                
                <label for="saponificationMolecularWeight">Molecular Weight:</label>
                <input type="number" id="saponificationMolecularWeight" step="any" value="56.1" required>
                <input type="checkbox" id="saveSaponificationMolecularWeight" class="save-checkbox">
                <label for="saveSaponificationMolecularWeight">Save</label>
                
                <label for="saponificationWeight">Weight (g):</label>
                <input type="number" id="saponificationWeight" step="any" required>
                
                <button type="submit">Calculate</button>
            </form>
            <p id="saponificationResult"></p>
        </div>

        <!-- Hydroxyl Value Calculator -->
        <div class="calculator">
            <h2>Hydroxyl</h2>
            <form id="hydroxylValueForm">
                <label for="hydroxylBlank">Blank Value:</label>
<input type="number" id="hydroxylBlank" step="any" required>
<input type="checkbox" id="saveHydroxylBlank" class="save-checkbox">
<label for="saveHydroxylBlank">Save</label>

<label for="hydroxylVolume">Volume (mL):</label>
                <input type="number" id="hydroxylVolume" step="any" required>
                
                <label for="hydroxylNormality">Normality:</label>
                <input type="number" id="hydroxylNormality" step="any" required>
                <input type="checkbox" id="saveHydroxylNormality" class="save-checkbox">
                <label for="saveHydroxylNormality">Save</label>
                
                <label for="hydroxylMolecularWeight">Molecular Weight:</label>
                <input type="number" id="hydroxylMolecularWeight" step="any" value="56.1" required>
                <input type="checkbox" id="saveHydroxylMolecularWeight" class="save-checkbox">
                <label for="saveHydroxylMolecularWeight">Save</label>
                
                <label for="hydroxylWeight">Weight (g):</label>
                <input type="number" id="hydroxylWeight" step="any" required>
                
                <button type="submit">Calculate</button>
            </form>
            <p id="hydroxylResult"></p>
        </div>

        <!-- Solids Calculator -->
        <div class="calculator">
            <h2>Solids</h2>
            <form id="solidsCalculatorForm">
                <h3>Set A</h3>
                <label for="panWeightA">Pan Weight (A):</label>
<input type="checkbox" id="savePanWeightA" class="save-checkbox">
<label for="savePanWeightA">Save</label>
                <input type="number" id="panWeightA" step="any" required>
                
                <label for="sampleWeightA">Sample Weight (A):</label>
<input type="checkbox" id="saveSampleWeightA" class="save-checkbox">
<label for="saveSampleWeightA">Save</label>
                <input type="number" id="sampleWeightA" step="any" required>
                
                <label for="afterWeightA">After Weight (A):</label>
                <input type="number" id="afterWeightA" step="any" required>

                <h3>Set B</h3>
                <label for="panWeightB">Pan Weight (B):</label>
<input type="checkbox" id="savePanWeightB" class="save-checkbox">
<label for="savePanWeightB">Save</label>
                <input type="number" id="panWeightB" step="any" required>
                
                <label for="sampleWeightB">Sample Weight (B):</label>
<input type="checkbox" id="saveSampleWeightB" class="save-checkbox">
<label for="saveSampleWeightB">Save</label>
                <input type="number" id="sampleWeightB" step="any" required>
                
                <label for="afterWeightB">After Weight (B):</label>
                <input type="number" id="afterWeightB" step="any" required>

                <button type="submit">Calculate</button>
            </form>
            <p id="solidsResult"></p>
        </div>

        <!-- ROI Calculator -->
        <div class="calculator">
            <h2>ROI</h2>
            <form id="roiCalculatorForm">
                <label for="roiAfterWeight">After Weight:</label>
                <input type="number" id="roiAfterWeight" step="any" required>
                
                <label for="roiCrucibleWeight">Crucible Weight:</label>
                <input type="number" id="roiCrucibleWeight" step="any" required>
                <input type="checkbox" id="saveRoiCrucibleWeight" class="save-checkbox">
                <label for="saveRoiCrucibleWeight">Save</label>
                
                <label for="roiSampleWeight">Sample Weight:</label>
<input type="checkbox" id="saveRoiSampleWeight" class="save-checkbox">
<label for="saveRoiSampleWeight">Save</label>
                <input type="number" id="roiSampleWeight" step="any" required>
                
                <button type="submit">Calculate</button>
            </form>
            <p id="roiResult"></p>
        </div>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Function to load saved data from localStorage
            function loadSavedData() {
                const fieldsToSave = [
                    'acidNormality', 'acidMolecularWeight',
                    'baseNormality', 'baseMolecularWeight',
                    'peroxideNormality', 'activesMolecularWeight',
                    'saponificationNormality', 'saponificationMolecularWeight',
                    'hydroxylNormality', 'hydroxylMolecularWeight', 'roiCrucibleWeight'
                ];

                fieldsToSave.forEach(field => {
                    const savedValue = localStorage.getItem(field);
                    if (savedValue) {
                        document.getElementById(field).value = savedValue;
                        document.getElementById(`save${field.charAt(0).toUpperCase() + field.slice(1)}`).checked = true;
                    }
                });
            }

            document.getElementById('acidValueForm').addEventListener('submit', function (event) {
                event.preventDefault();
                calculateValue('acidVolume', 'acidNormality', 'acidMolecularWeight', 'acidWeight', 'acidResult');
            });

            document.getElementById('baseValueForm').addEventListener('submit', function (event) {
                event.preventDefault();
                calculateValue('baseVolume', 'baseNormality', 'baseMolecularWeight', 'baseWeight', 'baseResult');
            });

            document.getElementById('peroxideValueForm').addEventListener('submit', function (event) {
                event.preventDefault();
                calculatePeroxideValue('peroxideVolume', 'peroxideNormality', 'peroxideWeight', 'peroxideResult');
            });

            document.getElementById('activesForm').addEventListener('submit', function (event) {
                event.preventDefault();
                calculateValue('activesVolume', 'activesNormality', 'activesMolecularWeight', 'activesWeight', 'activesResult');
            });

            document.getElementById('saponificationValueForm').addEventListener('submit', function (event) {
                event.preventDefault();
                
    const blank = parseFloat(document.getElementById('saponificationBlank').value);
    const volume = parseFloat(document.getElementById('saponificationVolume').value);
    const normality = parseFloat(document.getElementById('saponificationNormality').value);
    const molecularWeight = parseFloat(document.getElementById('saponificationMolecularWeight').value);
    const weight = parseFloat(document.getElementById('saponificationWeight').value);
    const result = ((blank - volume) * normality * molecularWeight) / weight;
    document.getElementById('saponificationResult').textContent = `Result: ${result.toFixed(2)}`;
    
            });

            document.getElementById('hydroxylValueForm').addEventListener('submit', function (event) {
                event.preventDefault();
                
    const blank = parseFloat(document.getElementById('hydroxylBlank').value);
    const volume = parseFloat(document.getElementById('hydroxylVolume').value);
    const normality = parseFloat(document.getElementById('hydroxylNormality').value);
    const molecularWeight = parseFloat(document.getElementById('hydroxylMolecularWeight').value);
    const weight = parseFloat(document.getElementById('hydroxylWeight').value);
    const result = ((blank - volume) * normality * molecularWeight) / weight;
    document.getElementById('hydroxylResult').textContent = `Result: ${result.toFixed(2)}`;
    
            });

            document.getElementById('solidsCalculatorForm').addEventListener('submit', function (event) {
                event.preventDefault();
                calculateSolids();
            });

            document.getElementById('roiCalculatorForm').addEventListener('submit', function (event) {
                event.preventDefault();
                calculateRoi();
            });

            function calculateValue(volumeId, normalityId, molecularWeightId, weightId, resultId) {
                const volume = parseFloat(document.getElementById(volumeId).value);
                const normality = parseFloat(document.getElementById(normalityId).value);
                const molecularWeight = parseFloat(document.getElementById(molecularWeightId).value);
                const weight = parseFloat(document.getElementById(weightId).value);

                const result = (volume * normality * molecularWeight) / weight;

                document.getElementById(resultId).textContent = `Result: ${result.toFixed(2)}`;
            }

            function calculatePeroxideValue(volumeId, normalityId, weightId, resultId) {
                const volume = parseFloat(document.getElementById(volumeId).value);
                const normality = parseFloat(document.getElementById(normalityId).value);
                const weight = parseFloat(document.getElementById(weightId).value);

                const result = (volume * 1000 * normality) / weight;

                document.getElementById(resultId).textContent = `Result: ${result.toFixed(2)}`;
            }

            function calculateRoi() {
                const afterWeight = parseFloat(document.getElementById('roiAfterWeight').value);
                const crucibleWeight = parseFloat(document.getElementById('roiCrucibleWeight').value);
                const sampleWeight = parseFloat(document.getElementById('roiSampleWeight').value);

                const roi = ((afterWeight - crucibleWeight) * 100) / sampleWeight;

                document.getElementById('roiResult').textContent = `ROI: ${roi.toFixed(2)}%`;
            }

            function calculateSolids() {
                const panWeightA = parseFloat(document.getElementById('panWeightA').value);
                const sampleWeightA = parseFloat(document.getElementById('sampleWeightA').value);
                const afterWeightA = parseFloat(document.getElementById('afterWeightA').value);

                const panWeightB = parseFloat(document.getElementById('panWeightB').value);
                const sampleWeightB = parseFloat(document.getElementById('sampleWeightB').value);
                const afterWeightB = parseFloat(document.getElementById('afterWeightB').value);

                const solidsA = ((afterWeightA - panWeightA) * 100) / sampleWeightA;
                const solidsB = ((afterWeightB - panWeightB) * 100) / sampleWeightB;

                const averageSolids = (solidsA + solidsB) / 2;

                document.getElementById('solidsResult').textContent = `Average Solids: ${averageSolids.toFixed(2)}%`;
            }

            // Function to save data to localStorage
            function saveData(field) {
                const checkbox = document.getElementById(`save${field.charAt(0).toUpperCase() + field.slice(1)}`);
                const value = document.getElementById(field).value;

                if (checkbox.checked) {
                    localStorage.setItem(field, value);
                } else {
                    localStorage.removeItem(field);
                }
            }

            // Attach event listeners to checkboxes
            const fieldsToSave = [
                'acidNormality', 'acidMolecularWeight',
                'baseNormality', 'baseMolecularWeight',
                'peroxideNormality', 'activesMolecularWeight',
                'saponificationNormality', 'saponificationMolecularWeight',
                'hydroxylNormality', 'hydroxylMolecularWeight'
            ];

            fieldsToSave.forEach(field => {
                document.getElementById(`save${field.charAt(0).toUpperCase() + field.slice(1)}`).addEventListener('change', function () {
                    saveData(field);
                });

                document.getElementById(field).addEventListener('input', function () {
                    saveData(field);
                });
            });

            // Load any saved data on page load
            loadSavedData();
        });



        // Debug functions
        function checkLocalStorage() {
            const localStorageContent = document.getElementById('localStorageContent');
            localStorageContent.innerHTML = JSON.stringify(localStorage, null, 2);
        }

        function clearLocalStorage() {
            localStorage.clear();
            checkLocalStorage();
        }
    </script>
</body>

</html>